webpackJsonp([2,0],[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=a(3),r=n(s),o=a(67),i=n(o),u=a(70),l=n(u),c=a(106),d=a(107),f=a(68),m=n(f);a(50),a(51);var p=a(41),h=n(p),v=a(52),_=n(v);i.default.config.swipe={direction:"horizontal"},i.default.registerCustomEvent("doubletap",{type:"tap",taps:2}),r.default.use(i.default,{name:"v-touch"}),r.default.use(h.default,{preLoad:1.2,loading:"//ojt3x01ru.bkt.clouddn.com/image/loading/ring.gif",error:"//ojt3x01ru.bkt.clouddn.com/image/post/Article.png",attempt:2,listenEvents:["scroll"]}),r.default.use(l.default);var g=new l.default({mode:"history",routes:c.routes});r.default.use(m.default),new r.default({el:"#app",store:d.store,router:g,render:function(t){return t(_.default)}})},,,,,,,,,,,,,,,,function(t,e,a){a(46);var n=a(2)(a(103),a(63),"data-v-39573c54",null);t.exports=n.exports},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,a){a(49);var n=a(2)(a(98),a(66),null,null);t.exports=n.exports},function(t,e,a){a(48);var n=a(2)(a(99),a(65),"data-v-fb00c2a6",null);t.exports=n.exports},function(t,e,a){a(45);var n=a(2)(a(100),a(62),"data-v-20b9c6a2",null);t.exports=n.exports},function(t,e,a){a(43);var n=a(2)(a(101),a(60),"data-v-086c1a54",null);t.exports=n.exports},function(t,e,a){a(47);var n=a(2)(a(102),a(64),"data-v-ee37eeb8",null);t.exports=n.exports},function(t,e,a){a(44);var n=a(2)(a(104),a(61),"data-v-0f385164",null);t.exports=n.exports},function(t,e,a){a(42);var n=a(2)(a(105),a(59),"data-v-00a43e6c",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subdetail"},[a("mu-appbar",[a("mu-icon-button",{attrs:{icon:"arrow_back"},slot:"left"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subreddits container"},[t.toast?a("mu-toast",{attrs:{message:t.toastMessage},on:{close:t.hideToast}}):t._e(),t._v(" "),a("div",{staticClass:"grid"},[a("mu-row",{attrs:{gutter:""}},[a("mu-col",{attrs:{width:"70",tablet:"50",desktop:"30"}},[a("h2",[t._v(t._s(t._f("capitalize")(t.category)))])]),t._v(" "),a("mu-col",{attrs:{width:"30",tablet:"50",desktop:"60"}},[a("mu-select-field",{directives:[{name:"model",rawName:"v-model",value:t.currentSort,expression:"currentSort"}],attrs:{labelFocusClass:["label-foucs"]},domProps:{value:t.currentSort},on:{input:function(e){t.currentSort=e}}},t._l(t.sortOption,function(t){return a("mu-menu-item",{attrs:{value:t,title:t}})}))],1)],1)],1),t._v(" "),a("ul",{staticClass:"item-list"},t._l(t.subreddits,function(e){return a("ul",[a("li",[a("subreddit",{attrs:{item:e}})],1),t._v(" "),a("mu-divider",{attrs:{shallowInset:""}})],1)})),t._v(" "),a("mu-infinite-scroll",{attrs:{scroller:t.scroller,loading:t.loading,"loading-text":"Loading..."},on:{load:t.loadMore}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[a("h1",[t._v("Ops..")]),t._v(" "),a("h2",[t._v("Not the page you are looing for")]),t._v(" "),a("h2",[t._v("404")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subreddit"},[a("a",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.makeImage(t.item.data.thumbnail),expression:"makeImage(item.data.thumbnail)",arg:"background-image"}],staticClass:"thumbnail",attrs:{href:t.makeUrl(t.item.data.permalink),target:"_self"}}),t._v(" "),a("div",{staticClass:"details"},[a("a",{staticClass:"title",attrs:{href:t.makeUrl(t.item.data.permalink),title:t.item.data.title,target:"_self"}},[t._v("\n\t\t"+t._s(t._f("truncate")(t.item.data.title))+"\n\t")]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"stats"},[a("i",{staticClass:"iconfont icon-good"}),t._v("\n\t\t\t"+t._s(t.item.data.score)+"\n\t\t\t"),a("i",{staticClass:"iconfont icon-comment"}),t._v("\n\t\t\t"+t._s(t.item.data.num_comments)+"\n\t\t")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("v-touch",{on:{doubletap:t.refresh}},[a("mu-appbar",{staticClass:"app-bar",attrs:{title:"Reddit App"}},[a("mu-icon-button",{attrs:{icon:"menu"},on:{click:t.toggleSideBar},slot:"left"}),t._v(" "),a("mu-icon-menu",{attrs:{icon:"more_vert",value:t.channel.toLowerCase()},on:{change:t.channelChange},slot:"right"},t._l(t.categories,function(t){return a("mu-menu-item",{attrs:{value:t,title:t}})}))],1)],1),t._v(" "),a("subreddits",{staticClass:"container",attrs:{category:t.channel,"refresh-state":t.refreshWhatever}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gifs"},[a("mu-appbar",{staticClass:"app-bar",attrs:{title:"GIFs"}},[a("mu-icon-button",{attrs:{icon:"menu"},on:{click:t.toggleSideBar},slot:"left"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("mu-drawer",{attrs:{open:t.openState,docked:t.docked},on:{close:function(e){t.sideBarClose()}}},[a("mu-list",{staticClass:"menu-list"},[a("router-link",{attrs:{to:"/"}},[a("mu-list-item",{attrs:{title:"Home"},on:{click:function(e){t.sideBarClose()}}},[a("mu-icon",{attrs:{value:"home"},slot:"left"})],1)],1),t._v(" "),a("mu-divider"),t._v(" "),a("router-link",{attrs:{to:"/gifs"}},[a("mu-list-item",{attrs:{title:"GIFs"},on:{click:function(e){t.sideBarClose()}}},[a("mu-icon",{attrs:{value:"videocam"},slot:"left"})],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("keep-alive",[a("router-view")],1),t._v(" "),a("sidebar")],1)},staticRenderFns:[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(53),r=n(s),o=a(16),i=n(o);e.default={name:"app",components:{Sidebar:r.default,Home:i.default},data:function(){return{}},methods:{}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(10),r=n(s),o=a(4);e.default={name:"sidebar",components:{},data:function(){return{docked:!1}},methods:(0,r.default)({},(0,o.mapMutations)(["sideBarClose"])),computed:(0,r.default)({},(0,o.mapGetters)(["openState"]))}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"subreddit",props:["item"],data:function(){return{}},methods:{makeImage:function(t){return t},makeUrl:function(t){return"http://reddit.com"+t}},filters:{truncate:function(t){var e=70;return t.length<=e?t:t.substring(0,e-3)+"..."}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(54),r=n(s),o=a(23),i=n(o);e.default={name:"subreddits",props:["category","refreshState"],data:function(){return{subreddits:[],lastID:"",loading:!1,scroller:null,pageLimit:25,currentSort:"Top",sortOption:["Top","Hot","New","Rising"],toast:!1,toastMessage:""}},mounted:function(){this.scroller=window},watch:{category:function(t){this.subreddits=[],this.getData()},currentSort:function(t){this.getData()},refreshState:function(t){this.subreddits=[],this.getData()}},components:{Subreddit:r.default},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},created:function(){this.getData()},methods:{getData:function(){var t=this;i.default.get("https://www.reddit.com/r/"+this.category+"/"+this.currentSort.toLowerCase()+".json?limit="+this.pageLimit).then(function(e){t.subreddits=e.data.data.children,t.lastID=t.subreddits[t.pageLimit-1].kind+"_"+t.subreddits[t.pageLimit-1].data.id}).catch(function(e){t.toastMessage="网络错误，数据获取失败",t.showToast()})},getMoreData:function(){var t=this;i.default.get("https://www.reddit.com/r/"+this.category+"/"+this.currentSort.toLowerCase()+".json?limit="+this.pageLimit+"&after="+this.lastID).then(function(e){t.subreddits=t.subreddits.concat(e.data.data.children);var a=t.subreddits.length;t.lastID=t.subreddits[a-1].kind+"_"+t.subreddits[a-1].data.id}).catch(function(e){t.toastMessage="网络错误，数据获取失败",t.showToast()})},loadMore:function(){var t=this;console.log("Loading"),this.loading=!0,setTimeout(function(){t.getMoreData(),t.loading=!1},2e3)},showToast:function(){var t=this;this.toast=!0,this.toastTimer&&clearTimeout(this.toastTimer),this.toastTimer=setTimeout(function(){t.toast=!1},2e3)},hideToast:function(){this.toast=!1,this.toastTimer&&clearTimeout(this.toastTimer),this.toastMessage=""}}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(10),r=n(s),o=a(4);e.default={name:"gifs",components:{},data:function(){return{}},methods:(0,r.default)({},(0,o.mapMutations)(["toggleSideBar"]))}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(10),r=n(s),o=a(4),i=a(55),u=n(i);e.default={name:"home",components:{Subreddits:u.default},data:function(){return{channel:"All",categories:["All","Food","Space","Movies","Funny","News"],refreshWhatever:!0}},methods:(0,r.default)({},(0,o.mapMutations)(["toggleSideBar"]),{channelChange:function(t){this.channel=t},refresh:function(){console.log("refresh"),this.refreshWhatever=!this.refreshWhatever}})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"notfound",components:{},data:function(){return{}},methods:{}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"subdetail",components:{},data:function(){return{}},methods:{}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.routes=void 0;var s=a(16),r=n(s),o=a(56),i=n(o),u=a(58),l=n(u),c=a(57),d=n(c);e.routes=[{path:"",component:r.default},{path:"/gifs",component:i.default},{path:"/subdetail",component:l.default},{path:"*",component:d.default}]},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.store=void 0;var s=a(3),r=n(s),o=a(4),i=n(o);r.default.use(i.default);e.store=new i.default.Store({state:{sideBarOpened:!1},getters:{openState:function(t){return t.sideBarOpened}},mutations:{toggleSideBar:function(t){console.log("sideBarToggle"),t.sideBarOpened=!0},sideBarClose:function(t){console.log("sideBarClose"),t.sideBarOpened=!1}}})}]);